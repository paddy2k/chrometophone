<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="chrome://sendtophone/skin/overlay.css" type="text/css"?>
<!DOCTYPE overlay SYSTEM "chrome://sendtophone/locale/overlay.dtd">
<overlay id="sendtophone-overlay" xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  <script src="overlay.js"/>
  <script src="ff-overlay.js"/>

  <stringbundleset id="stringbundleset">
    <stringbundle id="sendtophone-strings" src="chrome://sendtophone/locale/overlay.properties"/>
  </stringbundleset>

	<popupset id="mainPopupSet">
		<menupopup id="sendtophoneContextMenu" onpopupshowing="sendtophone.initPopup();">
			<menuitem label="&sendtophoneContextSendFile.label;" 
				  accesskey="&sendtophoneContextSendFile.accesskey;"
				  oncommand="sendtophone.pickFile(false)" id="sendtophoneContextMenuSendFiles"/>
			<menuitem label="&sendtophoneContextSendFolder.label;" 
				  accesskey="&sendtophoneContextSendFolder.accesskey;"
				  oncommand="sendtophone.pickFile(true)" id="sendtophoneContextMenuSendFolder"/>
			<menu label="&sendtophoneProtocols.label;">
				<menupopup id="menu_Protocols" onpopupshowing="sendtophone.onOptionsShowing(this)"> 
					<menuitem type="checkbox" id="marketcheck" label="market:" oncommand="sendtophone.onToggleOption(this)" option="market"/>
					<menuitem type="checkbox" id="mmscheck" label="mms:"  oncommand="sendtophone.onToggleOption(this)" option="mms"/>
					<menuitem type="checkbox" id="smscheck" label="sms:"  oncommand="sendtophone.onToggleOption(this)" option="sms"/>
					<menuitem type="checkbox" id="telcheck" label="tel:"  oncommand="sendtophone.onToggleOption(this)" option="tel"/>
				</menupopup>
			</menu>
			<menuitem label="&sendtophoneContextLogout.label;" 
				  accesskey="&sendtophoneContextLogout.accesskey;"
				  oncommand="sendtophone.logout()" id="sendtophoneContextMenuLogout"/>
		</menupopup>
	  
	</popupset>

  <menupopup id="contentAreaContextMenu">
    <menuitem id="context-sendtophone-link" label="&sendtophoneContext.label;"
              accesskey="&sendtophoneContext.accesskey;"
              insertafter="context-sendlink"
              oncommand="sendtophone.onMenuItemCommand(event, 'link')"/>
    <menuitem id="context-sendtophone-image" label="&sendtophoneContextImage.label;"
              accesskey="&sendtophoneContextImage.accesskey;"
              insertafter="context-sendimage"
              oncommand="sendtophone.onMenuItemCommand(event, 'image')"/>
    <menuitem id="context-sendtophone-text" label="&sendtophoneContextText.label;"
              accesskey="&sendtophoneContextText.accesskey;"
              insertafter="context-searchselect"
              oncommand="sendtophone.onMenuItemCommand(event, 'text')"/>
    <menuitem id="context-sendtophone-page" label="&sendtophoneContextPage.label;"
              accesskey="&sendtophoneContextPage.accesskey;"
              insertafter="context-sendpage"
              oncommand="sendtophone.onMenuItemCommand(event, 'page')"/>
  </menupopup>

	<toolbarpalette id="BrowserToolbarPalette">
		<toolbarbutton id="sendtophone-toolbar-button" class="toolbarbutton-1 chromeclass-toolbar-additional"
		label="&sendtophoneToolbarButton.label;" tooltiptext="&sendtophoneToolbarButton.tooltip;"
		context="sendtophoneContextMenu"

		ondragenter="sendtophone.checkDrag(event)"
		ondragover="sendtophone.checkDrag(event)"
		ondrop="sendtophone.doDrop(event)"
         
		oncommand="sendtophone.onToolbarButtonCommand()"/>
	</toolbarpalette>

</overlay>
